CREATE TABLE ID_LIST (
	ID varchar(10),
	SEP varchar(10),
	NAME varchar(30),
	PRIMARY KEY (ID)
);

CREATE INDEX SEP ON ID_LIST(ID,SEP);

CREATE TABLE T_LIST (
	ID varchar(10),
	SEP varchar(10),
	K_ID varchar(10) NOT NULL,
	T_ID varchar(10) NOT NULL UNIQUE,
	PRIMARY KEY (ID,SEP),
	FOREIGN KEY (ID,SEP) REFERENCES ID_LIST(ID,SEP) ON UPDATE CASCADE ON DELETE CASCADE
);


CREATE INDEX T_I ON T_LIST(T_ID);

CREATE TABLE K_LIST(
	K_ID varchar(10),
	K_NAME varchar(30) NOT NULL,
	T_ID varchar(10) NULL,
	PRIMARY KEY (K_ID),
	FOREIGN KEY (T_ID) REFERENCES T_LIST(T_ID) ON DELETE SET NULL
);

ALTER TABLE T_LIST ADD FOREIGN KEY (K_ID) REFERENCES K_LIST(K_ID);


CREATE TABLE G_LIST(
	G_ID varchar(10),
	G_NAME varchar(30),
	K_ID varchar(10) NOT NULL,
	T_ID varchar(10) NULL,
	PRIMARY KEY (G_ID),
	FOREIGN KEY (T_ID) REFERENCES T_LIST(T_ID) ON DELETE SET NULL ON UPDATE CASCADE,
	FOREIGN KEY (K_LIST) REFERENCES K_LIST(K_ID) ON DELETE SET NULL ON UPDATE CASCADE
);


CREATE TABLE C_LIST (
	C_ID varchar(10),
	G_ID varchar(10) NOT NULL,
	YEAR INT NOT NULL,
	T_ID varchar(10),
	PRIMARY KEY (C_ID),
	FOREIGN KEY (G_ID) REFERENCES G_LIST(G_ID) ON UPDATE CASCADE,
	FOREIGN KEY (T_ID) REFERENCES T_LIST(T_ID) ON DELETE SET NULL ON UPDATE CASCADE
);

CREATE TABLE L_LIST (
	L_ID varchar(10),
	L_NAME varchar(30),
	C_ID varchar(10),
	T_ID varchar(10) NOT NULL,
	PRIMARY KEY (L_ID),
	FOREIGN KEY (C_ID) REFERENCES C_LIST(C_ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (T_ID) REFERENCES T_LIST(T_ID) ON UPDATE CASCADE
);

CREATE TABLE S_LIST(
	ID varchar(10),
	SEP varchar(10),
	C_ID varchar(10) NOT NULL,
	S_ID varchar(10) NOT NULL UNIQUE,
	PRIMARY KEY (ID,SEP),
	FOREIGN KEY (ID,SEP) REFERENCES ID_LIST(ID,SEP) ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY (C_ID) REFERENCES C_LIST(C_ID) ON DELETE CASCADE
);

CREATE TABLE D_LIST(
	D_ID varchar(20),
	NAME varchar(100),
	P_Directory varchar(20),
	L_ID varchar(10),
	PRIMARY KEY (D_ID),
	FOREIGN KEY (L_ID) REFERENCES L_LIST(L_ID) ON DELETE SET NULL,
	FOREIGN KEY (P_Directory) REFERENCES D_LIST(D_ID)
);
	